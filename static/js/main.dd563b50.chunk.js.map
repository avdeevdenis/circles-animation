{"version":3,"sources":["App.js","Geometry.js","index.js"],"names":["Geometry","Object","classCallCheck","this","createClass","key","value","config","getTemplate","getRectangleDot","i","params","style","xStep","yStep","x","y","rectangle","top","xOffset","yOffset","dotsSize","getStyle","bgColor","right","bottom","left","react_default","a","createElement","className","getDirectLineDot","getDotFunction","dotsCount","coords","dots","width","height","push","call","_ref","_ref$x","_ref$y","_ref$bgColor","backgroundColor","transform","concat","App","props","_this","possibleConstructorReturn","getPrototypeOf","onButtonAnimateClick","bind","assertThisInitialized","figuresName","directLine","buttonTexts","state","buttonText","initEvents","makeCorrectWindowSize","_this2","type","name","obj","window","running","addEventListener","requestAnimationFrame","dispatchEvent","CustomEvent","throttle","drawInitialDots","test","navigator","userAgent","document","querySelector","getBoundingClientRect","initianDraw","getDirectLine","vh","innerHeight","documentElement","setProperty","getInitialConfig","setState","objectSpread","e","_this$getNextButtonTe","getNextButtonTextAndDots","target","innerText","nextButtonText","getRectangle","byDeviceText","isMobileOrTablet","Button_default","variant","onClick","Component","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.dd563b50.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\n\nimport './index.scss';\nimport { Geometry as GeometryClass } from './Geometry';\n\nconst Geometry = new GeometryClass();\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onButtonAnimateClick = this.onButtonAnimateClick.bind(this);\n\n\t\tthis.figuresName = {\n\t\t\trectangle: 'Прямоугольник',\n\t\t\tdirectLine: 'Линия'\n\t\t};\n\n\t\tthis.buttonTexts = [\n\t\t\tthis.figuresName.rectangle,\n\t\t\tthis.figuresName.directLine\n\t\t];\n\n\t\tthis.state = {\n\t\t\tbuttonText: this.buttonTexts[0]\n\t\t};\n\n\t\tthis.initEvents();\n\n\t\tthis.makeCorrectWindowSize();\n\t}\n\n\tinitEvents() {\n\t\t(function() {\n\t\t\tvar throttle = function(type, name, obj) {\n\t\t\t\tobj = obj || window;\n\t\t\t\tvar running = false;\n\t\t\t\tvar func = function() {\n\t\t\t\t\tif (running) { return; }\n\t\t\t\t\trunning = true;\n\t\t\t\t\t requestAnimationFrame(function() {\n\t\t\t\t\t\tobj.dispatchEvent(new CustomEvent(name));\n\t\t\t\t\t\trunning = false;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tobj.addEventListener(type, func);\n\t\t\t};\n\t\t\n\t\t\tthrottle('resize', 'throttle-resize');\n\t\t})();\n\t\t\n\t\twindow.addEventListener('throttle-resize', () => {\n\t\t\tthis.drawInitialDots();\n\t\t});\n\t}\n\n\tisMobileOrTablet() {\n\t\treturn /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\t}\n\n\tgetInitialConfig() {\n\t\tconst config = {\n\t\t\tdotsCount: 20,\n\t\t\tdotsSize: 20\n\t\t};\n\n\t\tconst coords = document.querySelector('.template').getBoundingClientRect();\n\t\tconfig.coords = coords;\n\n\t\tconst initianDraw = Geometry.getDirectLine(config);\n\t\tconfig.initianDraw = initianDraw;\n\n\t\treturn config;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.drawInitialDots();\n\t}\n\n\tmakeCorrectWindowSize() {\n\t\tlet vh = window.innerHeight * 0.01;\n\t\t\n\t\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\n\t\twindow.addEventListener('resize', () => {\n\t\t\tlet vh = window.innerHeight * 0.01;\n\t\t\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\t\t});\n\t}\n\n\tdrawInitialDots() {\n\t\tconst config = this.getInitialConfig();\n\t\t\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tconfig,\n\t\t\tdots: config.initianDraw\n\t\t});\n\t}\n\n\tonButtonAnimateClick(e) {\n\t\tconst { nextButtonText, dots } = this.getNextButtonTextAndDots(e.target.innerText);\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tbuttonText: nextButtonText,\n\t\t\tdots\n\t\t});\n\t}\n\n\tgetNextButtonTextAndDots(buttonText) {\n\t\tconst config = this.state.config;\n\n\t\tlet nextButtonText,\n\t\t\tdots;\n\n\t\tif (buttonText === this.figuresName.rectangle) {\n\t\t\tnextButtonText = this.figuresName.directLine;\n\t\t\tdots = Geometry.getRectangle(config);\n\t\t} else if (buttonText === this.figuresName.directLine) {\n\t\t\tnextButtonText = this.figuresName.rectangle;\n\t\t\tdots = Geometry.getDirectLine(config);\n\t\t}\n\n\t\treturn {\n\t\t\tnextButtonText,\n\t\t\tdots\n\t\t};\n\t}\n\n\trender() {\n\t\tconst byDeviceText = this.isMobileOrTablet() ?\n\t\t\t' повернуть устройство в горизонтальное положение.' :\n\t\t\t' увеличить размер окна браузера.';\n\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<div className='component'>\n\t\t\t\t\t<div className='template'>{this.state.dots}</div>\n\t\t\t\t\t<div className='actions'>\n\t\t\t\t\t\t{this.state.buttonText && <Button variant=\"primary\" onClick={this.onButtonAnimateClick}>{this.state.buttonText}</Button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='device-info'>Для корректной работы необходимо {byDeviceText}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\n\nexport class Geometry {\n    getRectangle(config) {\n        return this.getTemplate(this.getRectangleDot, config);\n    }\n\n\tgetRectangleDot(i, params) {\n\t\tlet style = {};\n\n\t\tlet xStep = 50,\n            yStep = 0;\n            \n        let xOffset,\n            yOffset;\n\n\t\tlet x = 20,\n\t\t\ty = 0;\n\n\t\t// Top side of rectangle\n\t\tif (i <= 5) {\n\t\t\txStep = params.rectangle.top.xOffset;\n            yStep = params.rectangle.top.yOffset;\n\n\t\t\tx = (xStep + params.dotsSize) * i + xStep;\n            y = yStep;\n\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'lime'\n\t\t\t});\n\t\t} \n\t\t\n\t\t// Right side of rectangle\n\t\tif (i >= 6 && i <= 9) {\n\t\t\tyStep = params.rectangle.right.yOffset;\n\n\t\t\tx = params.rectangle.right.xOffset;\n\t\t\t// y = yStep * (i - 4);\n\t\t\ty = yStep * (i - 5) + params.dotsSize + params.dotsSize / 2;\n\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'red'\n\t\t\t});\n\t\t}\n\n\t\t// Bottom side of rectangle\n\t\tif (i >= 10 && i <= 15) {\n\t\t\tyStep = params.rectangle.bottom.yOffset;\n\t\t\txStep = params.rectangle.top.xOffset;\n\n\t\t\tx = (xStep + params.dotsSize) * (15 - i) + xStep;\n\t\t\ty = yStep;\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'blue'\n\t\t\t});\n\t\t}\n\n\t\t// Left side of rectangle\n\t\tif (i >= 16 && i <= 20) {\n\t\t\tyStep = params.rectangle.left.yOffset;\n\t\t\txStep = params.rectangle.left.xOffset;\n\n\t\t\tx = (xStep + params.dotsSize) * 5 + xStep;\n\t\t\t// y = yStep * (20 - i)  ...  насчет остального не уверен\n\t\t\ty = yStep * (20 - i) + params.dotsSize + params.dotsSize / 2;\n\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'yellow'\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<div key={i} style={style} className=\"dot\"></div>\n\t\t);\n    }\n\n\tgetDirectLine(config) {\n\t\treturn this.getTemplate(this.getDirectLineDot, config);\n    }\n\n\tgetDirectLineDot(i, params) {\n        let style = {};\n        \n        const { xOffset, yOffset, dotsSize } = params;\n\n\t\tlet x = (dotsSize + xOffset) * i + xOffset,\n            y = yOffset;\n\n        style = this.getStyle({x, y});\n\n\t\treturn (\n\t\t\t<div key={i} style={style} className=\"dot\"></div>\n\t\t);\n    }\n\n    getTemplate(getDotFunction, config) {\n        const { dotsCount, dotsSize, coords } = config;\n        const dots = [];\n\n        let xOffset = (coords.width - (dotsSize * dotsCount)) / (dotsCount + 1);\n        let yOffset = coords.height / 2 - dotsSize / 2;\n\n        if (xOffset < 0) {\n            xOffset = 0;\n\t\t}\n\n        const params = {\n\t\t\tdotsCount, dotsSize, xOffset, yOffset,\n\t\t\trectangle: {\n\t\t\t\ttop: {\n\t\t\t\t\txOffset: (coords.width - (dotsSize * 6)) / 7,\n\t\t\t\t\tyOffset: 50\n\t\t\t\t},\n\t\t\t\tbottom: {\n\t\t\t\t\tyOffset: coords.height - 50 - dotsSize\n\t\t\t\t},\n\t\t\t\tleft: {\n\t\t\t\t\txOffset: (coords.width - (dotsSize * 6)) / 7,\n\t\t\t\t\tyOffset: (coords.height - (dotsSize * 4)) / 5\n\t\t\t\t},\n\t\t\t\tright: {\n\t\t\t\t\txOffset: (coords.width - (dotsSize * 6)) / 7,\n\t\t\t\t\tyOffset: (coords.height - (dotsSize * 4)) / 5\n\t\t\t\t}\n\t\t\t}\n        };\n\n\t\tfor (let i = 0; i < dotsCount; i++) {            \n            dots.push(getDotFunction.call(this, i, params));\n        }\n\n\t\treturn dots;\n    }\n\n\tgetStyle({\n\t\tx = 0, \n\t\ty = 0,\n\t\tbgColor = ''\n\t}) {\n\t\tconst style = {};\n\n\t\tif (bgColor) {\n\t\t\tstyle.backgroundColor = bgColor;\n\t\t}\n\n\t\tstyle.transform = `translate3d(${x}px, ${y}px, 0)`;\n\n\t\treturn style;\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
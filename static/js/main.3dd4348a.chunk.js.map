{"version":3,"sources":["App.js","Geometry.js","index.js"],"names":["Geometry","Object","classCallCheck","this","createClass","key","value","config","getTemplate","getRectangleDot","i","params","style","x","y","getStyle","bgColor","xStep","react_default","a","createElement","className","getDirectLineDot","xOffset","yOffset","dotsSize","getDotFunction","dotsCount","coords","dots","width","height","push","call","_ref","_ref$x","_ref$y","_ref$bgColor","backgroundColor","transform","concat","App","props","_this","possibleConstructorReturn","getPrototypeOf","onButtonAnimateClick","bind","assertThisInitialized","figuresName","rectangle","directLine","buttonTexts","state","buttonText","initEvents","_this2","type","name","obj","window","running","addEventListener","requestAnimationFrame","dispatchEvent","CustomEvent","throttle","drawInitialDots","test","navigator","userAgent","document","querySelector","getBoundingClientRect","initianDraw","getDirectLine","getInitialConfig","setState","objectSpread","e","_this$getNextButtonTe","getNextButtonTextAndDots","target","innerText","nextButtonText","getRectangle","byDeviceText","isMobileOrTablet","Button_default","variant","onClick","Component","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.3dd4348a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\n\nimport './index.scss';\nimport { Geometry as GeometryClass } from './Geometry';\n\nconst Geometry = new GeometryClass();\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onButtonAnimateClick = this.onButtonAnimateClick.bind(this);\n\n\t\tthis.figuresName = {\n\t\t\trectangle: 'Прямоугольник',\n\t\t\tdirectLine: 'Линия'\n\t\t};\n\n\t\tthis.buttonTexts = [\n\t\t\tthis.figuresName.rectangle,\n\t\t\tthis.figuresName.directLine\n\t\t];\n\n\t\tthis.state = {\n\t\t\tbuttonText: this.buttonTexts[0]\n\t\t};\n\n\t\tthis.initEvents();\n\t}\n\n\tinitEvents() {\n\t\t(function() {\n\t\t\tvar throttle = function(type, name, obj) {\n\t\t\t\tobj = obj || window;\n\t\t\t\tvar running = false;\n\t\t\t\tvar func = function() {\n\t\t\t\t\tif (running) { return; }\n\t\t\t\t\trunning = true;\n\t\t\t\t\t requestAnimationFrame(function() {\n\t\t\t\t\t\tobj.dispatchEvent(new CustomEvent(name));\n\t\t\t\t\t\trunning = false;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tobj.addEventListener(type, func);\n\t\t\t};\n\t\t\n\t\t\tthrottle('resize', 'throttle-resize');\n\t\t})();\n\t\t\n\t\twindow.addEventListener('throttle-resize', () => {\n\t\t\tthis.drawInitialDots();\n\t\t});\n\t}\n\n\tisMobileOrTablet() {\n\t\treturn /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\t}\n\n\tgetInitialConfig() {\n\t\tconst config = {\n\t\t\tdotsCount: 20,\n\t\t\tdotsSize: 20\n\t\t};\n\n\t\tconst coords = document.querySelector('.template').getBoundingClientRect();\n\t\tconfig.coords = coords;\n\n\t\tconst initianDraw = Geometry.getDirectLine(config);\n\t\tconfig.initianDraw = initianDraw;\n\n\t\treturn config;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.drawInitialDots();\n\t}\n\n\tdrawInitialDots() {\n\t\tconst config = this.getInitialConfig();\n\t\t\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tconfig,\n\t\t\tdots: config.initianDraw\n\t\t});\n\t}\n\n\tonButtonAnimateClick(e) {\n\t\tconst { nextButtonText, dots } = this.getNextButtonTextAndDots(e.target.innerText);\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tbuttonText: nextButtonText,\n\t\t\tdots\n\t\t});\n\t}\n\n\tgetNextButtonTextAndDots(buttonText) {\n\t\tconst config = this.state.config;\n\n\t\tlet nextButtonText,\n\t\t\tdots;\n\n\t\tif (buttonText === this.figuresName.rectangle) {\n\t\t\tnextButtonText = this.figuresName.directLine;\n\t\t\tdots = Geometry.getRectangle(config);\n\t\t} else if (buttonText === this.figuresName.directLine) {\n\t\t\tnextButtonText = this.figuresName.rectangle;\n\t\t\tdots = Geometry.getDirectLine(config);\n\t\t}\n\n\t\treturn {\n\t\t\tnextButtonText,\n\t\t\tdots\n\t\t};\n\t}\n\n\trender() {\n\t\tconst byDeviceText = this.isMobileOrTablet() ?\n\t\t\t' повернуть устройство в горизонтальное положение.' :\n\t\t\t' увеличить размер окна браузера.';\n\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<div className='component'>\n\t\t\t\t\t<div className='template'>{this.state.dots}</div>\n\t\t\t\t\t<div className='actions'>\n\t\t\t\t\t\t{this.state.buttonText && <Button variant=\"primary\" onClick={this.onButtonAnimateClick}>{this.state.buttonText}</Button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='device-info'>Для корректной работы необходимо {byDeviceText}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\n\nexport class Geometry {\n    getRectangle(config) {\n        return this.getTemplate(this.getRectangleDot, config);\n    }\n\n\tgetRectangleDot(i, params) {\n\t\tlet style = {};\n\n\t\tlet xStep = 50,\n            yStep = 0;\n            \n        let xOffset,\n            yOffset;\n\n\t\tlet x = 20,\n\t\t\ty = 0;\n\n\t\t// Left side of rectangle\n\t\tif (i <= 5) {\n            yStep = 50;\n\n            x = xStep * i;\n            y = yStep;\n\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'lime'\n\t\t\t});\n\t\t} \n\t\t\n\t\t// Right side of rectangle\n\t\tif (i >= 6 && i <= 9) {\n\t\t\tyStep = 50;\n\n\t\t\tx = xStep * 5;\n\t\t\ty = yStep * (i - 4);\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'red'\n\t\t\t});\n\t\t}\n\n\t\t// Bottom side of rectangle\n\t\tif (i >= 10 && i <= 15) {\n\t\t\tyStep = 50;\n\n\t\t\tx = xStep * (15 - i);\n\t\t\ty = yStep * 6;\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'blue'\n\t\t\t});\n\t\t}\n\n\t\tif (i >= 16 && i <= 20) {\n\t\t\tyStep = 50;\n\n\t\t\tx = xStep * 0;\n\t\t\ty = yStep * (21 - i);\n\t\t\tstyle = this.getStyle({\n\t\t\t\tx,\n                y,\n                bgColor: 'yellow'\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<div key={i} style={style} className=\"dot\"></div>\n\t\t);\n    }\n\n\tgetDirectLine(config) {\n\t\treturn this.getTemplate(this.getDirectLineDot, config);\n    }\n\n\tgetDirectLineDot(i, params) {\n        let style = {};\n        \n        const { xOffset, yOffset, dotsSize } = params;\n\n\t\tlet x = (dotsSize + xOffset) * i + xOffset,\n            y = yOffset;\n\n        style = this.getStyle({x, y});\n\n\t\treturn (\n\t\t\t<div key={i} style={style} className=\"dot\"></div>\n\t\t);\n    }\n\n    getTemplate(getDotFunction, config) {\n        const { dotsCount, dotsSize, coords } = config;\n        const dots = [];\n\n        let xOffset = (coords.width - (dotsSize * dotsCount)) / (dotsCount + 1);\n        let yOffset = coords.height / 2 - dotsSize / 2;\n\n        if (xOffset < 0) {\n            xOffset = 0;\n        }\n\n        const params = {\n            dotsCount, dotsSize, xOffset, yOffset\n        };\n\n\t\tfor (let i = 0; i < dotsCount; i++) {            \n            dots.push(getDotFunction.call(this, i, params));\n        }\n\n\t\treturn dots;\n    }\n\n\tgetStyle({\n\t\tx = 0, \n\t\ty = 0,\n\t\tbgColor = ''\n\t}) {\n\t\tconst style = {};\n\n\t\tif (bgColor) {\n\t\t\tstyle.backgroundColor = bgColor;\n\t\t}\n\n\t\tstyle.transform = `translate3d(${x}px, ${y}px, 0)`;\n\n\t\treturn style;\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}